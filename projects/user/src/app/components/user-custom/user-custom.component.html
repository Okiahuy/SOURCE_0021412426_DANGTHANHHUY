<div *ngIf="Message" id="a" class="alert alert-success" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1050; width: 700px;">
  <button type="button" class="close" (click)="Message = null" aria-hidden="true">&times;</button>
  <strong>{{ Message }}</strong>
</div>
<br>

<br>
<hr>

<table class="table table-bordered table-hover">
    <tbody>
          <tr>
            <th><h2>THÔNG TIN CHI TIẾT</h2></th>
            <td> <a class="btn1 btn-sm btn-info" [routerLink]="['/userupdate', user[0].userID]"><i class="ri-edit-2-line"></i>Đổi thông tin</a></td>
        </tr>
        <tr>
            <th>HỌ VÀ TÊN:</th>
            <td>{{user[0].fullname}}</td>
        </tr>
        <tr>
            <th>ĐỊA CHỈ</th>
            <td>{{user[0].address}}</td>
        </tr>
        <tr>
            <th>EMAIL</th>
            <td>{{user[0].email}}</td>
        </tr>
       
        <tr>
            <th>PHONE</th>
            <td>{{user[0].phone}}</td>
        </tr>
    </tbody>
</table>

<div>
    <h3>LỊCH SỬ ĐẶT HÀNG</h3>
</div>

<div *ngIf="orderItems.length > 0; else emptyCart">
      <table class="table table-striped">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Mã Đơn</th>
            <th>Ngày Đặt</th>
            <th>Trạng Thái</th>
            <th>Phương Thức Thanh Toán</th>
            <th>Tổng tiền</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of orderItems; let i = index">
            <td>{{ i + 1 }}</td>
             <td>{{item.code}}</td>
           
             <td>{{ convertStringToDate(item.orderDate) | date:'dd/MM/yyyy' }}</td>
           
             <td>
              <ng-container *ngIf="item.status == 1">Đơn hàng mới</ng-container>
              <ng-container *ngIf="item.status == 2">Đã duyệt</ng-container>
              <ng-container *ngIf="item.status == 3">Đã nhận</ng-container>
              <ng-container *ngIf="item.status == 4">Đã hủy</ng-container>
              <ng-container *ngIf="item.status == 10">Đã đánh giá</ng-container>
              
            </td>
            <td *ngIf="item.paymentID==1">Thanh toán khi nhận hàng</td>
            <td>{{ item.totalPrice | currency: 'VND':'':'1.0-0' }} đ</td>
            <td>
            
             <a class="btn btn-sm btn-info" [routerLink]="['/order', item.orderID]">Xem chi tiết</a> |

             <a class="btn btn-sm btn-danger" *ngIf="item.status==1" 
              (click)="updateStatus4Order(item.orderID)">HỦY</a> 

             <a class="btn btn-sm btn-success" *ngIf="item.status==2" 
              (click)="updateStatus3Order(item.orderID)">Nhận hàng</a>
              
              <a class="btn btn-sm btn-light" *ngIf="item.status==3"
              >Chưa Đánh!</a>

              <a class="btn btn-sm btn-warning" *ngIf="item.status==10" 
              >Đã đánh giá</a>

              <a class="btn btn-sm btn-danger" *ngIf="item.status==4" 
              (click)="deleteOrder(item.orderID)">XÓA</a>
            </td>
          </tr>
        </tbody>
      </table>
      
  </div>

  <ng-template #emptyCart>
    <br>
    <div class="alert alert-primary text-center">
        <h4>Chưa có đơn hàng nào được thanh toán</h4>
         </div>
  </ng-template>

